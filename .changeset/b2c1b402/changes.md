Refactored bot to combine endpoints and added unit tests